Bullet-FLUIDS
	Experimental SPH fluid system for:

		Bullet Physics 2.81
		http://bulletphysics.org
	based on
		FLUIDS v.2
		http://www.rchoetzlein.com/eng/graphics/fluids.htm

/Status:
	Initial draft under development.

	Partial two-way interaction between btRigidBody(s) and Fluid
	particles implemented(btRigidBody mass is not considered)
	using penalty forces.

	Impulse based methods under investigation.
	
/Requires:
	Visual C++ 2005/2008/2010
	bullet-2.81-rev2613

/Tested with:
	Windows 7
	Radeon HD 5850; Catalyst 12.4

	Visual C++ 2008 Express Edition
	bullet-2.81-rev2613
	AMD APP SDK v2.6


/Visual C++ Build instructions:
	-Move 'FluidSphDemo' into:
		./bullet-2.81-rev2613/Demos/


	-Replace 'premake4.lua' at:
		./bullet-2.81-rev2613/Demos/premake4.lua

		
	-If using an OpenCL Library from NVIDIA,
	edit 'function createFluidSphDemo()' in premake4.lua:
		USING_AMD_OPENCL = false

		
	-If building without OpenCL, edit 'function createFluidSphDemo()' in premake4.lua,
		USING_OPENCL = false

	and comment out this line of FluidSphDemo/FluidSphDemo.h:
		//#define ENABLE_OPENCL_FLUID_SOLVER
		
		
	-Run vs20*.bat in ./bullet-2.81-rev2613/build
		(e.g. vs2008.bat)

	-Build project 'App_FluidSphDemo' in 
	./bullet-2.81-rev2613/build/vs20*/0BulletSolution.sln

/Enabling (experimental) Multithreading support:
	-Requires 'BulletMultiThreaded' library, which may
	be obtained by building Bullet with CMake(see Bullet instructions).

	-Add BulletMultiThreaded.lib to linker options.
	
	-Uncomment this line of FluidSphDemo/BulletFluids/Sph/btFluidSolver.cpp:
		#define FLUIDS_MULTITHREADED_ENABLED
		
/Notes:
	--Controls:
		'q' - switch rendering mode(points, spheres, marching cubes)
		'e' - toggle between CPU and OpenCL/GPU
		'[' - previous demo
		']' - next demo
		'n' - halve the number of fluid particles
		'm' - double the number of fluid particles
		'/' - spray particles
		
	--The path of the OpenCL program, 'fluids.cl' 
	is hardcoded in btFluidSolverOpenCL.cpp as:

	const char CL_PROGRAM_PATH[] =
	"./Demos/FluidSphDemo/BulletFluids/Sph/OpenCL_support/fluids.cl";

	Meaning, for instance, that running:
 
		C:/bullet-2.81-rev2613/App_FluidSphDemo.exe 

	would require fluids.cl to be placed at:
	
		C:/bullet-2.81-rev2613/Demos/
		FluidSphDemo/BulletFluids/Sph/OpenCL_support/fluids.cl
